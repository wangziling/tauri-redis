function t(t,e,r){if(r||2===arguments.length)for(var n,o=0,c=e.length;o<c;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var e=/(?:{([a-zA-z]+[^{}|]*(?:\|.*)?)})/gi,r=/\s/g,n="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,c=n||o||Function("return this")(),i=c.Symbol,u=Object.prototype,a=u.hasOwnProperty,s=u.toString,l=i?i.toStringTag:void 0;var f=Object.prototype.toString;var p="[object Null]",b="[object Undefined]",y=i?i.toStringTag:void 0;function j(t){return null==t?void 0===t?b:p:y&&y in Object(t)?function(t){var e=a.call(t,l),r=t[l];try{t[l]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[l]=r:delete t[l]),o}(t):function(t){return f.call(t)}(t)}function v(t){return null!=t&&"object"==typeof t}var g=Array.isArray;function d(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var h="[object AsyncFunction]",w="[object Function]",m="[object GeneratorFunction]",O="[object Proxy]";function A(t){if(!d(t))return!1;var e=j(t);return e==w||e==m||e==h||e==O}var _,x=c["__core-js_shared__"],S=(_=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"";var P=Function.prototype.toString;function T(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var $=/^\[object .+?Constructor\]$/,E=Function.prototype,R=Object.prototype,F=E.toString,k=R.hasOwnProperty,U=RegExp("^"+F.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I(t){return!(!d(t)||(e=t,S&&S in e))&&(A(t)?U:$).test(T(t));var e}function M(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return I(r)?r:void 0}var B=M(c,"WeakMap"),C=9007199254740991;function z(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=C}var D=Object.prototype;function V(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||D)}function W(t){return v(t)&&"[object Arguments]"==j(t)}var q=Object.prototype,N=q.hasOwnProperty,G=q.propertyIsEnumerable,L=W(function(){return arguments}())?W:function(t){return v(t)&&N.call(t,"callee")&&!G.call(t,"callee")};var H="object"==typeof exports&&exports&&!exports.nodeType&&exports,J=H&&"object"==typeof module&&module&&!module.nodeType&&module,K=J&&J.exports===H?c.Buffer:void 0,Q=(K?K.isBuffer:void 0)||function(){return!1},X={};X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0,X["[object Arguments]"]=X["[object Array]"]=X["[object ArrayBuffer]"]=X["[object Boolean]"]=X["[object DataView]"]=X["[object Date]"]=X["[object Error]"]=X["[object Function]"]=X["[object Map]"]=X["[object Number]"]=X["[object Object]"]=X["[object RegExp]"]=X["[object Set]"]=X["[object String]"]=X["[object WeakMap]"]=!1;var Y,Z="object"==typeof exports&&exports&&!exports.nodeType&&exports,tt=Z&&"object"==typeof module&&module&&!module.nodeType&&module,et=tt&&tt.exports===Z&&n.process,rt=function(){try{var t=tt&&tt.require&&tt.require("util").types;return t||et&&et.binding&&et.binding("util")}catch(t){}}(),nt=rt&&rt.isTypedArray,ot=nt?(Y=nt,function(t){return Y(t)}):function(t){return v(t)&&z(t.length)&&!!X[j(t)]};var ct=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),it=ct,ut=Object.prototype.hasOwnProperty;var at=M(c,"Map"),st=M(c,"DataView"),lt=M(c,"Promise"),ft=M(c,"Set"),pt="[object Map]",bt="[object Promise]",yt="[object Set]",jt="[object WeakMap]",vt="[object DataView]",gt=T(st),dt=T(at),ht=T(lt),wt=T(ft),mt=T(B),Ot=j;(st&&Ot(new st(new ArrayBuffer(1)))!=vt||at&&Ot(new at)!=pt||lt&&Ot(lt.resolve())!=bt||ft&&Ot(new ft)!=yt||B&&Ot(new B)!=jt)&&(Ot=function(t){var e=j(t),r="[object Object]"==e?t.constructor:void 0,n=r?T(r):"";if(n)switch(n){case gt:return vt;case dt:return pt;case ht:return bt;case wt:return yt;case mt:return jt}return e});var At=Ot,_t=Object.prototype.hasOwnProperty;function xt(t){if(null==t)return!0;if(function(t){return null!=t&&z(t.length)&&!A(t)}(t)&&(g(t)||"string"==typeof t||"function"==typeof t.splice||Q(t)||ot(t)||L(t)))return!t.length;var e=At(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(V(t))return!function(t){if(!V(t))return it(t);var e=[];for(var r in Object(t))ut.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t).length;for(var r in t)if(_t.call(t,r))return!1;return!0}var St=Object.defineProperty;function Pt(t,e=!1){let r=window.crypto.getRandomValues(new Uint32Array(1))[0],n=`_${r}`;return Object.defineProperty(window,n,{value:r=>(e&&Reflect.deleteProperty(window,n),t?.(r)),writable:!1,configurable:!0}),r}async function Tt(t,e={}){return new Promise(((r,n)=>{let o=Pt((t=>{r(t),Reflect.deleteProperty(window,`_${c}`)}),!0),c=Pt((t=>{n(t),Reflect.deleteProperty(window,`_${o}`)}),!0);window.__TAURI_IPC__({cmd:t,callback:o,error:c,...e})}))}function $t(t,e="asset"){let r=encodeURIComponent(t);return navigator.userAgent.includes("Windows")?`https://${e}.localhost/${r}`:`${e}://localhost/${r}`}function Et(){}function Rt(t){return t()}function Ft(t,...e){if(null==t){for(const t of e)t(void 0);return Et}const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function kt(t){let e;return Ft(t,(t=>e=t))(),e}((t,e)=>{for(var r in e)St(t,r,{get:e[r],enumerable:!0})})({},{convertFileSrc:()=>$t,invoke:()=>Tt,transformCallback:()=>Pt});const Ut=[];function It(t,e=Et){let r;const n=new Set;function o(e){if(c=e,((o=t)!=o?c==c:o!==c||o&&"object"==typeof o||"function"==typeof o)&&(t=e,r)){const e=!Ut.length;for(const e of n)e[1](),Ut.push(e,t);if(e){for(let t=0;t<Ut.length;t+=2)Ut[t][0](Ut[t+1]);Ut.length=0}}var o,c}function c(e){o(e(t))}return{set:o,update:c,subscribe:function(i,u=Et){const a=[i,u];return n.add(a),1===n.size&&(r=e(o,c)||Et),i(t),()=>{n.delete(a),0===n.size&&r&&(r(),r=null)}}}}function Mt(t,e,r){const n=!Array.isArray(t),o=n?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=e.length<2;return i=(t,r)=>{let i=!1;const u=[];let a=0,s=Et;const l=()=>{if(a)return;s();const o=e(n?u[0]:u,t,r);c?t(o):s="function"==typeof o?o:Et},f=o.map(((t,e)=>Ft(t,(t=>{u[e]=t,a&=~(1<<e),i&&l()}),(()=>{a|=1<<e}))));return i=!0,l(),function(){f.forEach(Rt),s(),i=!1}},{subscribe:It(r,i).subscribe};var i}var Bt=function(){function n(){this.translations=It({}),this.language=It("en-US")}return n.prototype.switchTo=function(t){var e=this;return function(t){return Tt("plugin:translation|switch_to",{language:t})}(t).then((function(r){return e._update(r,t)}))},n.prototype.getResources=function(){return Tt("plugin:translation|resources")},n.prototype._update=function(t,e){if(t&&"object"==typeof t)return this.translations.set(t),this.language.set(e),this},n.prototype._baseTranslate=function(t,e){if("string"!=typeof e)return"";if(!e.replace(r,"").length)return"";var n=e.indexOf("|"),o=-1===n?e:e.slice(0,n),c=(-1===n?"":e.slice(n+1))||"#".concat(o);if(xt(t))return c;var i=t[o.toLowerCase()];return"string"!=typeof i?c:i},n.prototype._translate=function(r,n){for(var o=this,c=[],i=2;i<arguments.length;i++)c[i-2]=arguments[i];var u=this._baseTranslate(r,n);if(!u)return u;c.length&&(u=this.format.apply(this,t([u],c,!0)));var a=e;return a.test(u)?u.replace(a,(function(t,e){return o._baseTranslate(r,e)})):u},n.prototype.translate=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return this._translate.apply(this,t([kt(this.translations),e],r,!0))},n.prototype.translateDerived=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=this;return Mt(this.translations,(function(n){return o._translate.apply(this,t([n,e],r,!0))}))},n.prototype.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach((function(e,r){"string"==typeof e&&(t=t.replace(new RegExp("\\{"+r+"\\}","gm"),e))})),t},n.prototype.subscribe=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.translations).subscribe.apply(t,e)},n.prototype.derived=function(t){return Mt(this.translations,(function(e){return t(e)}))},n}(),Ct=new Bt;export{Bt as Translator,Ct as translator};
