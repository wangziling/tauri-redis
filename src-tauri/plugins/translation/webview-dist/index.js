function t(t,e,r){if(r||2===arguments.length)for(var n,o=0,c=e.length;o<c;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var e=/(?:{([a-zA-z]+[^{}|]*(?:\|[^{}]*)?)})/gi,r=/\s/g,n="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,c=n||o||Function("return this")(),i=c.Symbol,u=Object.prototype,a=u.hasOwnProperty,s=u.toString,l=i?i.toStringTag:void 0;var f=Object.prototype.toString;var p="[object Null]",b="[object Undefined]",y=i?i.toStringTag:void 0;function j(t){return null==t?void 0===t?b:p:y&&y in Object(t)?function(t){var e=a.call(t,l),r=t[l];try{t[l]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[l]=r:delete t[l]),o}(t):function(t){return f.call(t)}(t)}function v(t){return null!=t&&"object"==typeof t}var g=Array.isArray;function h(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var d="[object AsyncFunction]",w="[object Function]",_="[object GeneratorFunction]",m="[object Proxy]";function O(t){if(!h(t))return!1;var e=j(t);return e==w||e==_||e==d||e==m}var A,S=c["__core-js_shared__"],x=(A=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"";var P=Function.prototype.toString;function T(t){if(null!=t){try{return P.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var E=/^\[object .+?Constructor\]$/,F=Function.prototype,R=Object.prototype,k=F.toString,U=R.hasOwnProperty,$=RegExp("^"+k.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I(t){return!(!h(t)||(e=t,x&&x in e))&&(O(t)?$:E).test(T(t));var e}function M(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return I(r)?r:void 0}var B=M(c,"WeakMap");function z(){}var C=9007199254740991;function D(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=C}var V=Object.prototype;function W(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||V)}function q(t){return v(t)&&"[object Arguments]"==j(t)}var N=Object.prototype,G=N.hasOwnProperty,L=N.propertyIsEnumerable,H=q(function(){return arguments}())?q:function(t){return v(t)&&G.call(t,"callee")&&!L.call(t,"callee")};var J="object"==typeof exports&&exports&&!exports.nodeType&&exports,K=J&&"object"==typeof module&&module&&!module.nodeType&&module,Q=K&&K.exports===J?c.Buffer:void 0,X=(Q?Q.isBuffer:void 0)||function(){return!1},Y={};Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object Boolean]"]=Y["[object DataView]"]=Y["[object Date]"]=Y["[object Error]"]=Y["[object Function]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object WeakMap]"]=!1;var Z,tt="object"==typeof exports&&exports&&!exports.nodeType&&exports,et=tt&&"object"==typeof module&&module&&!module.nodeType&&module,rt=et&&et.exports===tt&&n.process,nt=function(){try{var t=et&&et.require&&et.require("util").types;return t||rt&&rt.binding&&rt.binding("util")}catch(t){}}(),ot=nt&&nt.isTypedArray,ct=ot?(Z=ot,function(t){return Z(t)}):function(t){return v(t)&&D(t.length)&&!!Y[j(t)]};var it=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),ut=it,at=Object.prototype.hasOwnProperty;var st=M(c,"Map"),lt=M(c,"DataView"),ft=M(c,"Promise"),pt=M(c,"Set"),bt="[object Map]",yt="[object Promise]",jt="[object Set]",vt="[object WeakMap]",gt="[object DataView]",ht=T(lt),dt=T(st),wt=T(ft),_t=T(pt),mt=T(B),Ot=j;(lt&&Ot(new lt(new ArrayBuffer(1)))!=gt||st&&Ot(new st)!=bt||ft&&Ot(ft.resolve())!=yt||pt&&Ot(new pt)!=jt||B&&Ot(new B)!=vt)&&(Ot=function(t){var e=j(t),r="[object Object]"==e?t.constructor:void 0,n=r?T(r):"";if(n)switch(n){case ht:return gt;case dt:return bt;case wt:return yt;case _t:return jt;case mt:return vt}return e});var At=Ot,St=Object.prototype.hasOwnProperty;function xt(t){if(null==t)return!0;if(function(t){return null!=t&&D(t.length)&&!O(t)}(t)&&(g(t)||"string"==typeof t||"function"==typeof t.splice||X(t)||ct(t)||H(t)))return!t.length;var e=At(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(W(t))return!function(t){if(!W(t))return ut(t);var e=[];for(var r in Object(t))at.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t).length;for(var r in t)if(St.call(t,r))return!1;return!0}var Pt=Object.defineProperty;function Tt(t,e=!1){let r=window.crypto.getRandomValues(new Uint32Array(1))[0],n=`_${r}`;return Object.defineProperty(window,n,{value:r=>(e&&Reflect.deleteProperty(window,n),t?.(r)),writable:!1,configurable:!0}),r}async function Et(t,e={}){return new Promise(((r,n)=>{let o=Tt((t=>{r(t),Reflect.deleteProperty(window,`_${c}`)}),!0),c=Tt((t=>{n(t),Reflect.deleteProperty(window,`_${o}`)}),!0);window.__TAURI_IPC__({cmd:t,callback:o,error:c,...e})}))}function Ft(t,e="asset"){return window.__TAURI__.convertFileSrc(t,e)}function Rt(){return Et("plugin:translation|resources")}function kt(){}function Ut(t){return t()}function $t(t,...e){if(null==t){for(const t of e)t(void 0);return kt}const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function It(t){let e;return $t(t,(t=>e=t))(),e}((t,e)=>{for(var r in e)Pt(t,r,{get:e[r],enumerable:!0})})({},{convertFileSrc:()=>Ft,invoke:()=>Et,transformCallback:()=>Tt});const Mt=[];function Bt(t,e=kt){let r;const n=new Set;function o(e){if(c=e,((o=t)!=o?c==c:o!==c||o&&"object"==typeof o||"function"==typeof o)&&(t=e,r)){const e=!Mt.length;for(const e of n)e[1](),Mt.push(e,t);if(e){for(let t=0;t<Mt.length;t+=2)Mt[t][0](Mt[t+1]);Mt.length=0}}var o,c}function c(e){o(e(t))}return{set:o,update:c,subscribe:function(i,u=kt){const a=[i,u];return n.add(a),1===n.size&&(r=e(o,c)||kt),i(t),()=>{n.delete(a),0===n.size&&r&&(r(),r=null)}}}}function zt(t,e,r){const n=!Array.isArray(t),o=n?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=e.length<2;return i=(t,r)=>{let i=!1;const u=[];let a=0,s=kt;const l=()=>{if(a)return;s();const o=e(n?u[0]:u,t,r);c?t(o):s="function"==typeof o?o:kt},f=o.map(((t,e)=>$t(t,(t=>{u[e]=t,a&=~(1<<e),i&&l()}),(()=>{a|=1<<e}))));return i=!0,l(),function(){f.forEach(Ut),s(),i=!1}},{subscribe:Bt(r,i).subscribe};var i}var Ct=function(){function n(){this.translations=Bt({}),this.language=Bt("en-US"),this._init().catch(z)}return n.prototype.switchTo=function(t){var e=this;return function(t){return Et("plugin:translation|switch_to",{language:t})}(t).then((function(){return Rt()})).then((function(r){return e._update(r,t)}))},n.prototype._init=function(){var t=this;return Promise.all([Et("plugin:translation|language"),Rt()]).then((function(e){var r=e[0],n=e[1];return t._update(n,r)}))},n.prototype._update=function(t,e){if(t&&"object"==typeof t)return this.translations.set(t),this.language.set(e),this},n.prototype._baseTranslate=function(t,e){if("string"!=typeof e)return"";if(!e.replace(r,"").length)return"";var n=e.indexOf("|"),o=-1===n?e:e.slice(0,n),c=(-1===n?"":e.slice(n+1))||"#".concat(o);if(xt(t))return c;var i=t[o.toLowerCase()];return"string"!=typeof i?c:i},n.prototype._translate=function(r,n){for(var o=this,c=[],i=2;i<arguments.length;i++)c[i-2]=arguments[i];var u=this._baseTranslate(r,n);if(!u)return u;c.length&&(u=this.format.apply(this,t([u],c,!0)));var a=e;return a.test(u)?u.replace(a,(function(t,e){return o._baseTranslate(r,e)})):u},n.prototype.translate=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return this._translate.apply(this,t([It(this.translations),e],r,!0))},n.prototype.translateDerived=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=this;return zt(this.translations,(function(n){return o._translate.apply(o,t([n,e],r,!0))}))},n.prototype.format=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach((function(e,r){"string"==typeof e&&(t=t.replace(new RegExp("\\{"+r+"\\}","gm"),e))})),t},n.prototype.subscribe=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.translations).subscribe.apply(t,e)},n.prototype.derived=function(t){return zt(this.translations,(function(e){return"function"==typeof t?t(e):e}))},n}(),Dt=new Ct;export{Ct as Translator,Dt as translator};
